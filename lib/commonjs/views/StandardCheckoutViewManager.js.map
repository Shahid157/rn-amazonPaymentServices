{"version":3,"names":["_react","_interopRequireWildcard","require","React","_reactNative","_callFortRequest","_nativeResponseSelector","_interopRequireDefault","obj","__esModule","default","_getRequireWildcardCache","e","WeakMap","r","t","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","ViewManager","requireNativeComponent","StandardCheckoutViewManager","props","isIOS","Platform","OS","showStandardCheckoutPage","onSuccess","onFailure","onCancel","requestObject","environment","requestCode","showLoading","showResponsePage","propsDone","returnSuccessParsed","response","responseObject","nativeResponseSelector","returnFailureParsed","useEffect","callFortRequest","Error","propsAdjustedIOS","createElement","Text","_default","exports"],"sources":["StandardCheckoutViewManager.tsx"],"sourcesContent":["import * as React from 'react';\nimport { Platform, requireNativeComponent, Text } from 'react-native';\nimport { useEffect } from 'react';\nimport { callFortRequest } from '../services/callFortRequest';\nimport nativeResponseSelector from '../utils/nativeResponseSelector';\nimport type { standardCheckoutViewProps } from '../types/viewProps';\n\nconst ViewManager = requireNativeComponent('StandardCheckout');\n\nconst StandardCheckoutViewManager: React.FC<standardCheckoutViewProps> = (\n  props\n) => {\n  const isIOS = Platform.OS === 'ios';\n\n  const {\n    showStandardCheckoutPage,\n    onSuccess = () => {},\n    onFailure = () => {},\n    onCancel = () => {},\n    requestObject,\n    environment = 'TEST',\n    requestCode = 0,\n    showLoading = true,\n    showResponsePage = true,\n  } = props;\n\n  const propsDone = requestObject && environment;\n\n  const returnSuccessParsed = (response: any) => {\n    const responseObject = nativeResponseSelector(response);\n    if (onSuccess) {\n      onSuccess(responseObject);\n    }\n  };\n\n  const returnFailureParsed = (response: any) => {\n    const responseObject = nativeResponseSelector(response);\n    if (onFailure) {\n      onFailure(responseObject);\n    }\n  };\n\n  useEffect(() => {\n    if (showStandardCheckoutPage && !isIOS && requestObject) {\n      try {\n        callFortRequest(\n          onSuccess,\n          onFailure,\n          onCancel,\n          requestObject,\n          environment,\n          requestCode,\n          showLoading,\n          showResponsePage\n        );\n      } catch (e) {\n        throw new Error('Error while calling fort request');\n      }\n    }\n    // eslint-disable-next-line\n  }, [showStandardCheckoutPage]);\n\n  const propsAdjustedIOS = {\n    ...props,\n    showLoading: showLoading ? 1 : 0,\n    showResponsePage: showResponsePage ? 1 : 0,\n    onSuccess: returnSuccessParsed,\n    onFailure: returnFailureParsed,\n  };\n  return propsDone ? (\n    showStandardCheckoutPage && isIOS ? (\n      <ViewManager {...propsAdjustedIOS} />\n    ) : null\n  ) : (\n    // @ts-ignore\n    <Text>Request object missing</Text>\n  );\n};\n\nexport default StandardCheckoutViewManager;\n"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA+B,IAAAC,KAAA,GAAAH,MAAA;AAC/B,IAAAI,YAAA,GAAAF,OAAA;AAEA,IAAAG,gBAAA,GAAAH,OAAA;AACA,IAAAI,uBAAA,GAAAC,sBAAA,CAAAL,OAAA;AAAqE,SAAAK,uBAAAC,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,SAAAG,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAX,wBAAAW,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAH,UAAA,SAAAG,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAF,OAAA,EAAAE,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAC,GAAA,CAAAJ,CAAA,UAAAG,CAAA,CAAAE,GAAA,CAAAL,CAAA,OAAAM,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAZ,CAAA,oBAAAY,CAAA,IAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAf,CAAA,EAAAY,CAAA,SAAAI,CAAA,GAAAR,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAX,CAAA,EAAAY,CAAA,UAAAI,CAAA,KAAAA,CAAA,CAAAX,GAAA,IAAAW,CAAA,CAAAC,GAAA,IAAAR,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAI,CAAA,IAAAV,CAAA,CAAAM,CAAA,IAAAZ,CAAA,CAAAY,CAAA,YAAAN,CAAA,CAAAR,OAAA,GAAAE,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAc,GAAA,CAAAjB,CAAA,EAAAM,CAAA,GAAAA,CAAA;AAGrE,MAAMY,WAAW,GAAG,IAAAC,mCAAsB,EAAC,kBAAkB,CAAC;AAE9D,MAAMC,2BAAgE,GACpEC,KAAK,IACF;EACH,MAAMC,KAAK,GAAGC,qBAAQ,CAACC,EAAE,KAAK,KAAK;EAEnC,MAAM;IACJC,wBAAwB;IACxBC,SAAS,GAAGA,CAAA,KAAM,CAAC,CAAC;IACpBC,SAAS,GAAGA,CAAA,KAAM,CAAC,CAAC;IACpBC,QAAQ,GAAGA,CAAA,KAAM,CAAC,CAAC;IACnBC,aAAa;IACbC,WAAW,GAAG,MAAM;IACpBC,WAAW,GAAG,CAAC;IACfC,WAAW,GAAG,IAAI;IAClBC,gBAAgB,GAAG;EACrB,CAAC,GAAGZ,KAAK;EAET,MAAMa,SAAS,GAAGL,aAAa,IAAIC,WAAW;EAE9C,MAAMK,mBAAmB,GAAIC,QAAa,IAAK;IAC7C,MAAMC,cAAc,GAAG,IAAAC,+BAAsB,EAACF,QAAQ,CAAC;IACvD,IAAIV,SAAS,EAAE;MACbA,SAAS,CAACW,cAAc,CAAC;IAC3B;EACF,CAAC;EAED,MAAME,mBAAmB,GAAIH,QAAa,IAAK;IAC7C,MAAMC,cAAc,GAAG,IAAAC,+BAAsB,EAACF,QAAQ,CAAC;IACvD,IAAIT,SAAS,EAAE;MACbA,SAAS,CAACU,cAAc,CAAC;IAC3B;EACF,CAAC;EAED,IAAAG,gBAAS,EAAC,MAAM;IACd,IAAIf,wBAAwB,IAAI,CAACH,KAAK,IAAIO,aAAa,EAAE;MACvD,IAAI;QACF,IAAAY,gCAAe,EACbf,SAAS,EACTC,SAAS,EACTC,QAAQ,EACRC,aAAa,EACbC,WAAW,EACXC,WAAW,EACXC,WAAW,EACXC,gBACF,CAAC;MACH,CAAC,CAAC,OAAOjC,CAAC,EAAE;QACV,MAAM,IAAI0C,KAAK,CAAC,kCAAkC,CAAC;MACrD;IACF;IACA;EACF,CAAC,EAAE,CAACjB,wBAAwB,CAAC,CAAC;EAE9B,MAAMkB,gBAAgB,GAAG;IACvB,GAAGtB,KAAK;IACRW,WAAW,EAAEA,WAAW,GAAG,CAAC,GAAG,CAAC;IAChCC,gBAAgB,EAAEA,gBAAgB,GAAG,CAAC,GAAG,CAAC;IAC1CP,SAAS,EAAES,mBAAmB;IAC9BR,SAAS,EAAEY;EACb,CAAC;EACD,OAAOL,SAAS,GACdT,wBAAwB,IAAIH,KAAK,gBAC/B/B,KAAA,CAAAqD,aAAA,CAAC1B,WAAW,EAAKyB,gBAAmB,CAAC,GACnC,IAAI;EAAA;EAER;EACApD,KAAA,CAAAqD,aAAA,CAACpD,YAAA,CAAAqD,IAAI,QAAC,wBAA4B,CACnC;AACH,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAjD,OAAA,GAEasB,2BAA2B"}